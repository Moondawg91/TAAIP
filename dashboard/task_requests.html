<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Task Requests — TAAIP Dashboard</title>
    <style>
      body{font-family:Inter,system-ui,Arial;margin:20px}
      label{display:block;margin-top:10px}
      input,textarea,select{width:100%;padding:8px;margin-top:6px}
      button{margin-top:10px;padding:8px 12px}
      .notice{margin-top:10px;color:green}
      .error{margin-top:10px;color:crimson}
      .request{border:1px solid #ddd;padding:8px;margin-top:8px}
    </style>
  </head>
  <body>
    <h1>Task Requests</h1>
    <p>Use this form to request actions from the Fusion/Command team. Requests will be posted to the API if available; otherwise they'll be saved locally so you can resend later.</p>

    <form id="taskForm">
      <label>Title
        <input id="title" required />
      </label>

      <label>Description
        <textarea id="description" rows="4"></textarea>
      </label>

      <label>Priority
        <select id="priority">
          <option>Low</option>
          <option selected>Medium</option>
          <option>High</option>
        </select>
      </label>

      <label>Assignee (team/email)
        <input id="assignee" placeholder="fusion-team@example.com" />
      </label>

      <label>Due date
        <input id="dueDate" type="date" />
      </label>

      <label>Actions required (short bullet list)
        <textarea id="actions" rows="3" placeholder="Examples: attach logs, verify config, restart service"></textarea>
      </label>

      <button type="submit">Submit Task Request</button>
    </form>

    <div id="status"></div>

    <h2>Pending Local Requests</h2>
    <div id="pending"></div>

    <h2 style="margin-top:18px">Server Requests</h2>
    <div>
      <button id="fetchRequests">Fetch Recent Requests</button>
    </div>
    <div id="serverRequests" style="margin-top:8px"></div>

    <p style="margin-top:20px"><a href="index.html">← Back to Dashboard</a></p>

    <script src="task_requests.js"></script>
  </body>
</html>
